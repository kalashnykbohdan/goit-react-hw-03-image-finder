{"version":3,"sources":["components/Sections/Sections.js","components/Notification/Notification.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","services/articlesApi.js","components/App.js","index.js"],"names":["Sections","title","children","defaultProps","Notification","message","ImageGallery","items","map","item","key","id","className","src","webformatURL","data-sourse","largeImageURL","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSybmit","preventDefault","props","onSubmit","this","type","onChange","placeholder","Component","Button","onLoadMore","onClick","Modal","handleKeyDown","code","onClose","console","log","window","addEventListener","removeEventListener","page","fethArticlesWithQuery","query","queryParams","axios","get","then","data","incrementPage","hits","resetPage","App","images","loading","showModal","error","searchQuery","fethArticles","articlesApi","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","handleSearchFormSubmit","toggleModal","openModalImage","nodeName","imagelarge","getAttribute","prevProps","color","height","width","length","alt","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.2591b74c.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Sections({title, children}){\r\n    return (\r\n        <section>\r\n            {title && <h2>{title}</h2>}\r\n            {children}\r\n        </section>\r\n    );\r\n}\r\n\r\nSections.defaultProps = {\r\n    title: '',\r\n}\r\n\r\n// Section.PropTypes = {\r\n//     title:PropTypes.string,\r\n//     children:PropTypes.node.isRequired,\r\n// }\r\n\r\nexport default Sections;\r\n","import React from 'react';\r\n\r\nexport default function Notification({message}){\r\n    return <p>Whoops, something went wrong: {message}</p>;\r\n}","import React from 'react';\r\n\r\nexport default function ImageGallery({items}){\r\n\r\n    return(\r\n        <>\r\n            {items.map( item  => (\r\n                <li key={item.id} className=\"ImageGalleryItem\">\r\n                    <img src={item.webformatURL} data-sourse={item.largeImageURL} className=\"ImageGalleryItem-image\" ></img>\r\n                </li>       \r\n            ))}\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\n\r\nexport default function ImageGallery({items}){\r\n    // console.log(images);\r\n    return(\r\n        <ul className=\"ImageGallery\">\r\n            <ImageGalleryItem items={items} data-sourse={items.largeImageURL}/>\r\n        </ul> \r\n    );\r\n}\r\n","import React, { Component } from 'react';\r\n \r\nexport default class Searchbar extends Component {\r\n    state = { inputValue: '' };\r\n\r\n    handleChange = e =>{\r\n        this.setState({inputValue: e.target.value})\r\n    };\r\n    handleSybmit = e => {\r\n        e.preventDefault();\r\n\r\n        this.props.onSubmit(this.state.inputValue);\r\n        this.setState({inputValue:''});\r\n        // console.log(this.state.inputValue);\r\n    }\r\n    render() {\r\n        return (\r\n            <header className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={this.handleSybmit}>\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    value={this.state.inputValue}\r\n                    onChange={this.handleChange}\r\n                    // autocomplete=\"off\"\r\n                    // autofocus\r\n                    placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n\r\n            // <form onSubmit={this.handleSybmit}>\r\n            //     <label>\r\n            //         Enter search query\r\n            //         <input \r\n            //             type=\"text\" \r\n            //             value={this.state.inputValue}\r\n            //             onChange={this.handleChange}\r\n            //         />\r\n            //     </label>\r\n            //     <button type=\"submit\">Search</button>\r\n            // </form>\r\n            \r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function Button({onLoadMore }) {\r\n\r\n    return (<button className=\"Button\" type=\"button\" onClick={onLoadMore }>Load more</button>);\r\n    \r\n}\r\n\r\n\r\n\r\n","import React, {Component} from 'react';\r\n// import style from './modal.css';\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount(){\r\n        console.log('Modal componentDidMount');\r\n\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n    componentWillUnmount(){\r\n        console.log('Modal componentWillUnmount');\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n    handleKeyDown = e =>{\r\n        if(e.code === 'Escape'){\r\n            this.props.onClose();\r\n        }\r\n    }\r\n    \r\n    render() {\r\n      return (\r\n        <div className=\"Overlay\">\r\n            <div className=\"Modal\">{this.props.children}</div>\r\n        </div>\r\n      )\r\n    };\r\n}\r\n","// import React from 'react';\r\n// import axios from 'axios';\r\n\r\n// const fethArticlesWithQuery = (searchQuery, page = 0) => {\r\n//     return axios\r\n//         .get(`https://hn.algolia.com/api/v1/search?query=${searchQuery}&page=${page}`)\r\n//         .then(response => response.data.hits)\r\n\r\n//         }\r\n//         export default {\r\n//             fethArticlesWithQuery,\r\n//         }\r\n\r\n  //-------------------------------------------------      \r\n//         import axios from 'axios';\r\n\r\n// const baseUrl = 'https://pixabay.com/api/?q=';\r\n// const keyApi = \"16592129-67c5d546392e0470201b3bb2a\";\r\n\r\n// const fethArticlesWithQuery = (searchQuery, page = 1) => {\r\n\r\n//     const requestParams = `&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n//         return axios.get(baseUrl + searchQuery + requestParams).then(response => response.data.hits)\r\n\r\n//         }\r\n//         export default {\r\n//             fethArticlesWithQuery,\r\n//         }\r\n\r\n        // return axios\r\n        // .get(baseUrl + searchQuery + requestParams)\r\n        // .then(response => console.log(response.data.hits))\r\n        // .catch(error => this.setState({error}))\r\n        // .finally(() => this.setState({loading: false }));\r\n\r\n//------------------------------------------------\r\n\r\nimport axios from 'axios';\r\n\r\nconst baseUrl = 'https://pixabay.com/api/?q=';\r\nconst ApiKey = '15216450-d096caa7dd5d740f777344039';\r\n\r\nexport default {\r\n    page: 1,\r\n\r\n    fethArticlesWithQuery(query) {\r\n        const queryParams = `&page=${this.page}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n\r\n        return axios.get(baseUrl + query + queryParams)\r\n            .then(({ data }) => {\r\n                this.incrementPage()\r\n                // console.log(data.hits);\r\n                return data.hits\r\n            })\r\n    },\r\n    incrementPage() {\r\n        this.page += 1;\r\n    },\r\n    resetPage() {\r\n        this.page = 1;\r\n    }\r\n}\r\n\r\n\r\n","import React, {Component} from 'react';\n\nimport Sections from './Sections';\n\nimport Loader from 'react-loader-spinner';\n\nimport Notification from './Notification'\nimport ImageGallery from './ImageGallery'\nimport Searchbar from './Searchbar';\nimport Button from './Button';\nimport Modal from './Modal';\n\nimport articlesApi from '../services/articlesApi';\nimport './App.css';\n\n\n\nexport default class App extends Component{\n  state = {\n    images: [],\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n    error: null,\n    searchQuery:'',\n    page: 1\n    \n  };\n\n  componentDidMount() {\n    window.addEventListener('click', this.openModalImage);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this.openModalImage);\n}\n\n  componentDidUpdate(prevProps, prevState){\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if(prevQuery !== nextQuery){\n      this.fethArticles();\n    }\n  }\n\n  fethArticles = () => {\n    const {searchQuery, page} = this.state;\n\n    this.setState({loading: true});\n\n    articlesApi\n      .fethArticlesWithQuery(searchQuery, page)\n      .then(images => {this.setState(prevState => ({images: [...prevState.images, ...images], page: prevState.page + 1}))\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n    });\n  })\n      .catch(error => this.setState({error}))\n      .finally(() => this.setState({loading: false }));\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n  }  \n\n  handleSearchFormSubmit = query => {\n    this.setState({searchQuery: query, page: 1, images: []});\n  }\n\n\n  toggleModal = () =>{\n    this.setState(state => ({ showModal: !state.showModal}));\n  }\n\n  openModalImage = (e) => {\n      if (this.state.showModal === true) {\n        this.toggleModal();\n      }else{\n      if (e.target.nodeName === \"IMG\") {\n        this.setState({ showModal: true })\n\n        const imagelarge = e.target.getAttribute('data-sourse');\n        this.setState({ largeImageURL: imagelarge })\n      }\n    }\n  }\n\n\n  render() {\n    const {images, loading, error, showModal, largeImageURL} = this.state;\n    return (\n      <>\n        <Sections>\n          <Searchbar onSubmit={this.handleSearchFormSubmit}/>\n          {error && <Notification message={error.message}/>}\n          {loading && <Loader\n                type=\"Puff\"\n                color=\"#00BFFF\"\n                height={100}\n                width={100}\n            />}\n          {images.length > 0 && <ImageGallery items={images}/>}\n          {images.length > 0 && !loading && <Button onLoadMore={this.fethArticles}/>}\n\n          {showModal && <Modal onClose={this.toggleModal}>\n            {<img src={largeImageURL} alt=\"img\" />}\n          </Modal>}\n\n\n        </Sections>\n      </>\n    )\n  };\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(<App/>, document.querySelector(\"#root\"));\n\n\n\n\n\n\n"],"sourceRoot":""}